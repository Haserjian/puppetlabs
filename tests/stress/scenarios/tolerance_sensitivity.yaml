scenario_id: "stress-tolerance-sensitivity-001"
name: "Tolerance Sensitivity Analysis"
description: "Measure solver sensitivity to tolerance parameter variations"
category: "tolerance_analysis"
domain: "algebra"
tags: ["tolerance", "sensitivity", "parameter_sweep"]

stress_config:
  budget_tiers:
    - tier: "light"
      max_wall_time_ms: 5000
    - tier: "standard"
      max_wall_time_ms: 30000

  tolerance_sweep:
    absolute: [1e-12, 1e-9, 1e-6, 1e-3]
    relative: [1e-9, 1e-6, 1e-3, 1e-1]

  expected_behavior:
    mode: "parameter_sensitivity"
    min_confidence: 0.6

edge_cases:
  - case_id: "ill_conditioned_quadratic"
    category: "ill_conditioned"
    description: "Ill-conditioned quadratic sensitive to tolerance"
    tolerance_config:
      absolute: 1e-9
      relative: 1e-6
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions: ["x^2 - 2.0000000001*x + 1 = 0"]
      variables: ["x"]
    expected_result:
      outcome: "success"
      confidence_min: 0.65

  - case_id: "near_singular_system"
    category: "ill_conditioned"
    description: "Nearly singular linear system"
    tolerance_config:
      absolute: 1e-9
      relative: 1e-6
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions:
        - "x + y = 2"
        - "1.00000001*x + 0.99999999*y = 2"
      variables: ["x", "y"]
    expected_result:
      outcome: "degraded_success"
      confidence_min: 0.55

  - case_id: "small_perturbation"
    category: "ill_conditioned"
    description: "Small perturbation in coefficients"
    tolerance_config:
      absolute: 1e-12
      relative: 1e-9
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions: ["(1 + 1e-10)*x^2 - 2*x + 1 = 0"]
      variables: ["x"]
    expected_result:
      outcome: "success"
      confidence_min: 0.6

promotion_config:
  shadow_mode: true
  promotion_criteria:
    min_runs: 20
    max_failure_rate: 0.15
    min_avg_confidence: 0.6
