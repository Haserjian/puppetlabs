scenario_id: "stress-solver-underflow-001"
name: "Solver Underflow Scenarios"
description: "Test solver behavior under numerical underflow with tiny coefficients"
category: "edge_cases"
domain: "algebra"
tags: ["underflow", "numeric_limits", "quadratic"]

stress_config:
  budget_tiers:
    - tier: "standard"
      max_wall_time_ms: 30000

  tolerance_sweep:
    absolute: [1e-12, 1e-9, 1e-6]
    relative: [1e-9, 1e-6, 1e-3]

  expected_behavior:
    mode: "graceful_degradation"
    min_confidence: 0.5

edge_cases:
  - case_id: "underflow_coefficients_1"
    category: "underflow"
    description: "Quadratic with tiny coefficients"
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions: ["1e-100*x^2 - 1e-100*x + 1e-101 = 0"]
      variables: ["x"]
    expected_result:
      outcome: "degraded_success"
      confidence_min: 0.4

  - case_id: "underflow_coefficients_2"
    category: "underflow"
    description: "Cubic with very small coefficients"
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions: ["1e-50*x^3 - 1e-50*x^2 + 1e-51*x - 1e-52 = 0"]
      variables: ["x"]
    expected_result:
      outcome: "degraded_success"
      confidence_min: 0.5

  - case_id: "underflow_mixed_scale"
    category: "underflow"
    description: "Mixed scale coefficients"
    problem:
      type: "solve"
      problem_type: "solve"
      domain: "algebra"
      expressions: ["1e-100*x^2 + 1e20*x + 1 = 0"]
      variables: ["x"]
    expected_result:
      outcome: "degraded_success"
      confidence_min: 0.45

promotion:
  shadow_mode: true
  promotion_criteria:
    min_runs: 15
    max_failure_rate: 0.20
    min_avg_confidence: 0.5
